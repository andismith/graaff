<!DOCTYPE html><!--[if lt IE 7]><html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--><!--[if IE 7]><html lang="en" class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if IE 8]><html lang="en" class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html lang="en" class="no-js"><!--<![endif]--><head><meta charset="utf-8"><title>Developer Reference - Graaff</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="author" content="Andi Smith"><meta name="description" content="Graaff makes building static sites easy."><meta name="keywords" content="graaff, assemble, andi, smith"><meta name="generator" content="Graaff"><meta name="robots" content="NOODP"><meta property="og:site_name" content="Graaff"><meta property="og:title" content="Developer Reference"><meta property="og:description" content="Graaff makes building static sites easy."><meta property="og:image" content="http://www.andismith.com/themes/default/assets/img/share.png"><link rel="author" href="https://plus.google.com/+AndiSmithUK/?rel=author"><link rel="icon" href="/favicon.ico"><link rel="dns-prefetch" href="//fonts.googleapis.com"><script src="../../assets/js/vendors/modernizr.custom.min.js"></script><link rel="stylesheet" href="../../assets/css/main.min.css"><link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,600italic,300,600" rel="stylesheet"></head><body class="handbook"><header id="top" class="header"><h1 class="alpha"><a href="../..">Graaff</a></h1><h2 class="beta">Static Sites Assembled</h2><section class="search"><input type="hidden" id="search__path" value="../.."> <input type="search" id="search__input" class="search__input" placeholder="Search"><ul class="search__results"></ul></section></header><nav class="navigation"><ul><li class="sections"><a href="../.." class="home"><span>Home</span></a></li><li class="sections"><a href="../../overview" class="overview"><span>Overview</span></a></li><li class="sections"><a href="../getting-started" class="getting-started"><span>Getting Started</span></a></li><li class="sections"><a href=".." class="handbook selected"><span>Handbook</span></a></li></ul></nav><div class="wrapper"><div class="container"><main class="main">More in-depth technical detail about how Graaff works<article class="content-block"><header class="content-block__header"><h1 class="alpha"><a href="get-posts/">getPosts</a></h1></header><section class="content-block__main"><div class="content-block__body"><p>The core of Graaff is the <code>getPosts</code> helper. This powerful helper can retrieve, sort, filter and paginate posts based on either strings, arrays or values of the current page.</p><p>The list of parameters for your site are listed at the top of the file and contained with a pair of triple hyphens. Each parameter follows the syntax key: value. A typical page may have the following parameters:</p><pre><code>---
title: getPosts
section: Developer Reference
post: true
---</code></pre><p>For a post to be included in the results, it must have a YAML property/value of &#39;post: true&#39;.</p><p>This page shares examples for how <code>getPosts</code> works together with a list of the values it returns.</p><h2 id="working-example">Working Example</h2><p>A typical <code>getPosts</code> request may look like this:</p><pre><code>{{#getPosts
  post
  filter=&#39;{
    &quot;section&quot;: &quot;Developer Reference&quot;
  }&#39;
  sort=&#39;{
    &quot;field&quot;: &quot;title&quot;
  }&#39;
  page=&#39;{
    &quot;start&quot;: 0,
    &quot;length&quot;: 10
  }&#39;
}}</code></pre><p>Here, we are retreiving a post object based on the following YAML meta data:</p><ul><li>The posts must have a section value of &quot;Developer Reference&quot;</li><li>The posts should be sorted by title in descending order</li><li>We want to display the first 10 posts</li></ul><h2 id="accepted-values">Accepted Values</h2><p>The <code>getPosts</code> helper can accept the following values:</p><h3 id="filter">Filter</h3><p>Filters are defined as:</p><pre><code>filter=&#39;{
  &quot;prop&quot;: &quot;value&quot;,
  &quot;!prop2&quot;: &quot;value&quot;
}&#39;</code></pre><p>Properties must match the YAML meta property name (e.g. &quot;section&quot;). Properties can be prefixed with an negation symbol (!) to exclude certain posts. For example:</p><pre><code>filter=&#39;{
  &quot;section&quot;: &quot;Blog&quot;,
  &quot;category&quot;: &quot;JavaScript&quot;,
  &quot;!category&quot;: &quot;jQuery&quot;
}&#39;</code></pre><p>Values should be specified as the same type as they are defined in the YAML meta data - so numbers and booleans should not be wrapped in quotation marks. For example:</p><pre><code>filter=&#39;{
  &quot;sticky&quot;: true,
  &quot;page&quot;: 1
}&#39;</code></pre><p>Filters can include static values or a value based on the current page&#39;s YAML meta data (a dynamic value). For example, if a page has a YAML meta tag value &quot;category&quot;: &quot;Blog&quot; we can use the filter:</p><pre><code>filter=&#39;{
  &quot;category&quot;: &quot;{category}&quot;
}&#39;</code></pre><p>And this will retreive all other posts with the same value for this YAML meta property name as the current post.</p><p>You can combine these filters to produce powerful queries, such as related posts where you would want to retreive all posts except the current one:</p><pre><code>filter=&#39;{
  &quot;category&quot;: &quot;{category}&quot;,
  &quot;!title&quot;: &quot;{title}&quot;
}&#39;</code></pre><h3 id="sorting">Sorting</h3><p>Sort is defined as:</p><pre><code>sort=&#39;{
  &quot;field&quot;: &quot;date&quot;,
  &quot;order&quot;: &quot;asc&quot;
}&#39;</code></pre><p>Where <code>field</code> is the YAML meta property name, and <code>order</code> is either &#39;asc&#39; ascending or &#39;desc&#39; for descending. The default order is descending.</p><h3 id="page">Page</h3><p>Page is defined as:</p><pre><code>page=&#39;{
  &quot;start&quot;: 0,
  &quot;length&quot;: 10
}&#39;</code></pre><p>Where <code>start</code> is the page number (starting at 0) and <code>length</code> is the length of the page. For example, to retreive the first page of 5 posts, the values would be:</p><pre><code>page=&#39;{
  &quot;start&quot;: 0,
  &quot;length&quot;: 5
}&#39;</code></pre><p>This would tell <code>getPosts</code> to start at post 0 and continue until the 5th post, which would be at index 4 as the post array is zero-index based.</p><p>For example, to retreive a second page of 5 posts, the values would be:</p><pre><code>page=&#39;{
  &quot;start&quot;: 1,
  &quot;length&quot;: 5
}&#39;</code></pre><p>This would tell <code>getPosts</code> to start at post 5 (1*5) and continue until the 10th post, which would be at index 9.</p><h2 id="returned-results">Returned Results</h2><p><code>getPosts</code> will loop through any matching posts found in the criteria specified, it can be used for single requests as well as multiple posts. The following values are available within the loop:</p><h3 id="post-title">Post Title</h3><p><code>title</code></p><p>The title of the page, or the site title if not defined.</p><h3 id="post-content">Post Content</h3><p><code>summaryContent</code></p><p>Either the value of YAML meta property <code>summary</code>, or if this is not defined, the page body up until the string ` <a href="get-posts">Read more</a></p></div><div class="content-block__info"><div class="content-block__info-author">By <a href="http://www.andismith.com/">Andi Smith</a></div></div></section></article></main><aside class="sidebar"><section class="content-block"><h1 class="gamma">About</h1><p>Graaff makes creating content-rich static sites easy.</p></section><section class="content-block"><h1 class="gamma">Latest</h1><p>The latest posts</p><ul><li><a href="../releases/learn-more-about-graaff/">Learn more about Graaff!</a></li></ul></section></aside></div></div><div class="footer">Powered by <a href="https://github.com/andismith/graaff">Graaff</a></div><script src="../../assets/js/main.min.js"></script></body></html>